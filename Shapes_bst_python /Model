from abc import ABC
from abc import abstractmethod
from dataclasses import dataclass
import math

class Shape(ABC):
    @abstractmethod
    def area(self):
        pass
    
    @abstractmethod
    def perimeter(self):
        pass

@dataclass
class Circle(Shape):
    radius : float
    def __post_init__(self):
        if self.radius <= 0:
            raise ValueError("radius must be positive")
        
    def area(self):
        return math.pi * self.radius * self.radius
    
    def perimeter(self):
        return 2 * math.pi * self.radius

@dataclass
class Rectangle(Shape):
    width : float
    height : float
    def __post_init__(self):
        if self.width <= 0 or self.height <= 0:
            raise ValueError("width and height must be positive")
        
    def area(self):
        return self.width * self.height
    def perimeter(self):
        return 2 * (self.width + self.height)
    
@dataclass
class Triangle(Shape):
    a : float
    b : float
    c : float 
    def __post_init__(self):
        if self.a <= 0 or self.b <= 0 or self.c <= 0:
            raise ValueError("values must be positive")
        
        if self.a + self.b <= self.c or self.a + self.c <= self.b or self.b + self.c <= self.a:
            raise ValueError("violates triangle inequality")
    
   
    def area(self): 
        s = (self.a + self.b + self.c) / 2
        return math.sqrt(s * (s - self.a) * (s - self.b) * (s - self.c))
    def perimeter(self):
        return self.a + self.b + self.c
